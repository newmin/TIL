# 12. AWS를 더 잘 사용하기 위한 서비스
## 프로그램으로 AWS의 기능 사용하기
- AWS CLI : 명령줄에서 AWS의 서비스를 조작할 수 있게 해주는 도구
	- EC2 인스턴스를 생성할 때 Amazon Linux AMI를 이용해 생성했다면 AWS CLI는 기본적으로 설치돼 있다.
- AWS SDK : 프로그래밍 언어에서 AWS 기능들을 조작할 수 있게 만들어 둔 라이브러리

- `aws configure` 로 사용자 토큰 정보를 저장해서 사용한다.
	- `aws ec2 describe-instances` : 현재 보유하고 있는 모든 인스턴스의 목록 가져오기

## 파일 스토리지

- EC2 인스턴스 스토어 : EC2 인스턴스를 생성할 때마다 생성한 스토리지. 인스턴스 수명 기간 동안에만 유지된다.
- EBS(Elastic Block Store) : 실행 중인 인스턴스에 연결할 수 있는 스토리지로 데이터에 빠르게 액세스하고 장기적으로 데이터를 보존해야 하는 경우 사용
- EFS(Amazon Elastic File System) : EC2에서 사용할 수 있는 확장 가능한 파일 스토리지. EBS와 다르게 EFS 파일 시스템을 형성한 후 여러 EC2 인스턴스의 공통 데이터 소스로 활용할 수 있다.
- S3(Simple Storage Service) : EC2 뿐만 아니라 웹, 다른 AWS 서비스에서도 바로 파일에 접근할 수 있는 서비스. 애플리케이션에서 사용하는 이미지, 로그 파일, EBS 스냅샷 등의 다양한 파일들을 보관할 수 있다.
	- 내구성, 가용성, 확장성에 대해 훌륭한 장점
	- 파일 보안에 대해서도 여러 암호화 방식 제공
	- 파일 접근 권한도 유연하게 제어할 수 있다.
	- 큰 데이터 파일을 업로드하고 관리하면서 동시에 다른 AWS 서비스들을 이용해 해당 파일들을 쿼리하고 분석할 수도 있다.

## EC2 인스턴스 비용 절감하기

- 스팟 인스턴스 : AWS에서 유휴 서버 자원을 사용자들에게 임시로 빌려주는 기능.
	- 사용자가 이용하고 싶은 인스턴스 사양과 그 수를 설정해두고 경매를 통해 인스턴스들을 빌린다.
	- 다만 더 높은 가격을 가진 사용자가 나타날 경우 2분 경과 후 타의로 인스턴스가 종료될 수 있다.
	- 따라서 영구적으로 보관해야 하는 값들은 S3 같은 외부 저장소에 저장하고, 대량 연산과 같은 병렬 처리, 2분 내로 끝나는 비동기 작업 등을 처리하는 데에 사용하면 비용을 획기적으로 줄일 수 있다.
- 예약 인스턴스 : RI (Reserved Instance) : 인스턴스에 약정을 걸어서 1년 혹은 3년 단위로 할인된 가격에 인스턴스를 구입하는 것이다.

## 파일 제공

- S3 : 훌륭한 파일 제공 기능을 지원한다. 클라이언트에게 제공되어야 하는 파일 중 서버에 배포되지 않은 파일들은 S3에 올리고 경로만 지정해두면 클라이언트에서 직접 파일을 요청해 내려받을 수 있다.
	- S3는 정적 웹 사이트 호스팅 기능도 지원한다.
- CloudFront : CDN (콘텐츠 전송 네트워크) 서비스. 여러 지역에 있는 사용자들에게 더 빠르게 콘텐츠를 전달할 수 있는 방식.
	- 오리진 서버가 응답을 주는 대신 가장 가까운 CDN 서버가 대신 응답을 준다.
	- S3를 오리진 서버로 둬서 이미지, JS와 같은 정적 파일이나 동영상 스트리밍과 같은 콘텐츠도 전달할 수 있다.
	

## 데이터 저장

- RDS : 관계형 데이터베이스 서비스. 원하는 데이터베이스 엔진과 서버 사양을 선택하면 바로 사용 가능한 서버를 생성할 수 있다.
- ElastiCache : Redis, Memcached 같은 인 메모리 스토어 중 하나를 이용해 메모리 데이터 스토어를 구성할 수 있게 해준다.


## 알림

- SNS (Simple Notification Service) : 사용자들에게 모바일 푸시 알림, 문자, 개발자 혹은 관리자에게 알림을 보낼 수 있는 서비스.
	- 주제, 구독, 게시 라는 세 가지 개념이 존재한다.
		- 주제 : 메시지를 발송하는 게시자가 게시할 메시지의 주제. 예를 들어 전체 회원, 혹은 마케팅 수신 동의를 한 회원들을 대상으로 하는 알림.
		- 구독 : 특정 주제에 대해 구독하는 것.
		- 게시 : 메시지를 발송하는 것.
