# 3. 다중 서버 환경 구성
#TIL/aws

---

### AWS Auto Scaling 그룹을 이용한 다중 서버 구성

- AWS Auto Scaling 그룹
	- AWS에서 제공하는 자동 다중 서버 서비스
	- 같은 사양, 같은 환경, 같은 코드를 가지고 있는 똑같은 EC2 인스턴스들의 묶음
	- 인스턴스들이 같은 AMI를 통해 만들어진다.

1. 어떤 인스턴스를 선택해 만들지 정하고, 해당 인스턴스의 현재 환경(OS, 디스크 내용 등)을 스냅샷으로 생성해 AMI를 만든다.
2. AMI를 이용해 어떤 설정(사양, 보안 그룹, 네트워크 등)의 인스턴스를 띄울지 미리 정의해두는 `시작 템플릿`을 생성한다.
3. 이 시작 템플릿을 이용해 인스턴스를 실행할 Auto Scaling 그룹을 생성한다.

#### [실습] Auto Scaling 그룹 생성

- AMI를 만들기 전에 인스턴스를 stopped(중지) 상태로 변경한다.
	- 안전한 스냅샷 작업을 위해서이다.
- 시작 템플릿은 인스턴스를 자동으로 생성할 때 어떤 AMI를 기반으로 생성할 것인지, 서버 사양, 보안 그룹 등은 어떻게 할 것인지에 대한 설정을 미리 정의하는 것이다.
	- 그래서 EC2 인스턴스 생성하는 방식과 흡사하다.
- 서브넷 설정은 인스턴스를 어떤 네트워크 망에 띄울 것인지 정하는 것이다.
	- ap-northease-2a는 서울 리전의 a 가용 영역에, ap-northease-2c는 서울 리전의 c 가용 영역에 생성한다는 의미이다.

